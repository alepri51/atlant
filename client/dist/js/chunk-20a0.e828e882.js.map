{"version":3,"sources":["webpack:///./src/components/class_base.js","webpack:///./src/components/widgets/manual.vue?c3d7","webpack:///src/components/widgets/manual.vue","webpack:///./src/components/widgets/manual.vue?baf1","webpack:///./src/components/widgets/manual.vue","webpack:///./src/components/widgets/class_widget.js","webpack:///./src/components/widgets/manual.vue?61ad"],"names":["__webpack_exports__","[object Object]","entity","id","this","$options","_componentTag","split","loaded","events","component_name","component_id","$store","state","route","watch","auth.signed","val","old","methods","args","_actions","execute","commit","name","computed","entities","auth","signed","BASE_URL","render","_vm","_h","$createElement","_c","_self","attrs","filter","wrap","justify-center","slot","staticClass","color","medium","_v","group","absolute","right","dark","fab","on","click","$event","manual","parent","section","directives","rawName","value","append","expression","size","_e","_l","item","key","_id","staticStyle","max-width","class","elevation-1","active","elevation-10","width","clicked","mouseover","mouseout","icon","video_id","placeholder","compressed","source","video_provider","iframe","allowFullScreen","allowfullscreen","mozallowfullscreen","webkitallowfullscreen","height","src","alt","title","_s","Date","parseInt","created","toLocaleString","domProps","innerHTML","text","extra","tags","length","overflow","white-space","text-overflow","display","reduce","str","inx","arr","to","flat","small","stopPropagation","bottom","left","direction","open-on-hover","hover","transition","model","callback","$$v","$set","style","margin-bottom","nativeOn","options","remove","staticRenderFns","manualvue_type_script_lang_js_","props","extends","class_widget","components","raw_data","parents","includes","sort","a","b","onHover","top","widgets_manualvue_type_script_lang_js_","component","Object","componentNormalizer","__file","_class_base__WEBPACK_IMPORTED_MODULE_0__","widget","__webpack_require__","e","then","bind","load","endpoint","method","cache","member","console","log","$socket","off","update","event","data","onEvent","values","auth.member","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_manual_vue_vue_type_style_index_0_id_52c8ea5a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-20a0.e828e882.js","sourcesContent":["\r\nexport default {\r\n    data() {\r\n        let [entity, id] = this.$options._componentTag.split('_');\r\n\r\n        return {\r\n            loaded: false,\r\n            events: {},\r\n            entity,\r\n            component_name: this.$options._componentTag,\r\n            component_id: id || this.$store.state.route.id\r\n        }\r\n    },\r\n    async created() {\r\n\r\n        /* if(this.auth.member) {\r\n            //console.log('REGISTER EVENT:', `${this.auth.member}:update:${this.entity}`);\r\n\r\n            this.$socket.off(this.events.update);\r\n\r\n            let update = this.$socket.on(`${this.auth.member}:update:${this.entity}`, (data) => {\r\n                //console.log('SOCKET UPDATE DATA:', data);\r\n                \r\n                this.commit('SET_ENTITIES', { method: 'GET', ...data });\r\n            });\r\n\r\n            this.events.update = update.id;\r\n        } */\r\n    },\r\n    watch: {\r\n        'auth.signed': function(val, old) {\r\n            //[0, 1].includes(val) && this.commit('RESET_CACHE');\r\n            //val === 0 && this.commit('RESET_ENTITIES');\r\n            //old === 0 && val === 1 && this.commit('RESET_ENTITIES');\r\n        }\r\n    },\r\n    methods: {\r\n        execute(...args) {\r\n            return this.$store._actions.execute[0](...args);\r\n        },\r\n        commit(...args) {\r\n            return this.$store.commit(...args);\r\n        },\r\n        registerComponent(name) {\r\n            this.commit('REGISTER_COMPONENT', name);\r\n        }\r\n    },\r\n    computed: {\r\n        state() {\r\n            return this.$store.state;\r\n        },\r\n        entities() {\r\n            return this.$store.state.entities;\r\n        },\r\n        auth() {\r\n            return this.state.auth || {};\r\n        },\r\n        authenticated() {\r\n            //debugger;\r\n            return this.auth ? this.auth.signed && this.auth.signed !== 0 : false;\r\n        },\r\n        route() {\r\n            return this.state.route;\r\n        },\r\n        BASE_URL() {\r\n            return this.state.BASE_URL;\r\n        }\r\n    }\r\n}\r\n\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('widget',{attrs:{\"name\":(\"новости (\" + (_vm.filter.length) + \")\"),\"wrap\":\"\",\"justify-center\":\"\"}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('v-layout',{staticClass:\"ma-2\"},[_c('h2',{staticClass:\"primary--text\"},[_c('v-icon',{staticClass:\"mr-2 shadow\",attrs:{\"color\":\"primary\",\"medium\":\"\"}},[_vm._v(\"fas fa-exclamation-circle\")]),_vm._v(\"\\n                Статьи и нструкции\\n            \")],1),(_vm.auth.group === 'admins')?_c('v-speed-dial',{staticClass:\"top-dial\",attrs:{\"absolute\":\"\",\"right\":\"\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"dark\":\"\",\"fab\":\"\",\"color\":\"accent\"},on:{\"click\":function($event){_vm.commit('SHOW_MODAL', { 'manual': { parent: _vm.section } })}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"fas fa-plus\")]),_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.append),expression:\"!append\"}],staticClass:\"second-icon\",attrs:{\"size\":12,\"color\":\"\"}},[_vm._v(\"far fa-file\")]),_c('v-icon',[_vm._v(\"fas fa-times\")])],1)],1):_vm._e()],1)],1),_c('v-divider',{staticClass:\"mb-4\",attrs:{\"slot\":\"divider\"},slot:\"divider\"}),_vm._l((_vm.filter),function(item){return (_vm.filter.length)?_c('v-flex',{key:item._id,staticStyle:{\"max-width\":\"300px\"}},[_c('sui-card',{class:{ 'elevation-1': _vm.active !== item._id, 'elevation-10': _vm.active === item._id },staticStyle:{\"width\":\"300px!important\"},on:{\"click\":function($event){_vm.clicked = item._id},\"mouseover\":function($event){_vm.active = item._id},\"mouseout\":function($event){_vm.active = false}}},[(item.video_url)?_c('sui-embed',{attrs:{\"active\":item._id === _vm.clicked,\"icon\":\"fas fa-film\",\"id\":item.video_id,\"placeholder\":item.compressed ? (_vm.BASE_URL + \"/\" + (item._id) + \"/files/\" + (item.compressed)) : (\"https://placeimg.com/150/\" + (100 + item._id) + \"/nature\"),\"source\":item.video_provider,\"iframe\":{ allowFullScreen: true, allowfullscreen: true, mozallowfullscreen: true, webkitallowfullscreen: true}}}):(item.compressed)?_c('v-card-media',{attrs:{\"height\":159.75,\"src\":item.compressed ? (_vm.BASE_URL + \"/\" + (item._id) + \"/files/\" + (item.compressed)) : ''}}):_c('v-card-media',{attrs:{\"height\":159.75,\"src\":(\"https://placeimg.com/150/\" + (100 + item._id) + \"/nature\")}}),_c('sui-card-content',[_c('sui-card-header',{class:item._id === _vm.active ? 'accent--text' : 'primary--text',attrs:{\"alt\":item.title}},[_vm._v(_vm._s(item.title))]),_c('sui-card-meta',[_c('small',[_vm._v(_vm._s(new Date(parseInt(item.created)).toLocaleString()))])]),_c('v-divider'),_c('sui-card-description',{domProps:{\"innerHTML\":_vm._s(item.text)}})],1),_c('sui-card-content',{attrs:{\"extra\":\"\"}},[(item.tags && item.tags.length)?_c('div',{staticStyle:{\"overflow\":\"hidden\",\"white-space\":\"nowrap\",\"text-overflow\":\"ellipsis\",\"display\":\"inline-block\",\"max-width\":\"120px\"}},[_c('v-icon',{staticClass:\"mr-1 secondary--text\",attrs:{\"size\":12}},[_vm._v(\"fas fa-tags\")]),_c('small',[_vm._v(_vm._s(item.tags.reduce(function (str, item, inx, arr) { return str = str + item + (inx === arr.length - 1 ? '' : ' | '); }, '')))])],1):_vm._e(),_c('v-btn',{staticClass:\"ma-0\",attrs:{\"slot\":\"right\",\"to\":(\"readmanual:\" + (item._id)),\"dark\":\"\",\"flat\":\"\",\"color\":\"secondary\",\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){$event.stopPropagation();}},slot:\"right\"},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"fas fa-expand\")])],1)],1),(_vm.auth.group === 'admins')?_c('v-speed-dial',{directives:[{name:\"show\",rawName:\"v-show\",value:(item._id === _vm.active),expression:\"item._id === active\"}],staticClass:\"card-dial\",attrs:{\"absolute\":\"\",\"bottom\":_vm.bottom,\"right\":_vm.right,\"left\":_vm.left,\"direction\":_vm.direction,\"open-on-hover\":_vm.hover,\"transition\":_vm.transition},model:{value:(_vm.fab[item._id]),callback:function ($$v) {_vm.$set(_vm.fab, item._id, $$v)},expression:\"fab[item._id]\"}},[_c('v-btn',{style:(!_vm.fab[item._id] && 'opacity: 0.5'),attrs:{\"slot\":\"activator\",\"dark\":\"\",\"fab\":\"\",\"small\":\"\",\"color\":\"accent\"},slot:\"activator\",model:{value:(_vm.fab[item._id]),callback:function ($$v) {_vm.$set(_vm.fab, item._id, $$v)},expression:\"fab[item._id]\"}},[_c('v-icon',[_vm._v(\"fas fa-chevron-down\")]),_c('v-icon',[_vm._v(\"fas fa-chevron-up\")])],1),_c('v-btn',{staticClass:\"btn-icon-shadow\",attrs:{\"icon\":\"\",\"dark\":\"\",\"small\":\"\",\"color\":\"secondary\"},on:{\"click\":function($event){_vm.commit('SHOW_MODAL', { 'manual': item })}}},[_c('v-tooltip',{attrs:{\"left\":\"\"}},[_c('v-icon',{staticStyle:{\"margin-bottom\":\"1px\"},attrs:{\"slot\":\"activator\",\"size\":13},slot:\"activator\"},[_vm._v(\"fas fa-pen\")]),_c('span',[_vm._v(\"Редактировать\")])],1)],1),_c('v-btn',{staticClass:\"btn-icon-shadow\",attrs:{\"icon\":\"\",\"dark\":\"\",\"small\":\"\",\"color\":\"error\"},nativeOn:{\"click\":function($event){_vm.commit('SHOW_MODAL', { 'manual': item, options: { remove: true }})}}},[_c('v-tooltip',{attrs:{\"left\":\"\"}},[_c('v-icon',{attrs:{\"slot\":\"activator\",\"small\":\"\"},slot:\"activator\"},[_vm._v(\"fas fa-times\")]),_c('span',[_vm._v(\"Удалить\")])],1)],1)],1):_vm._e()],1)],1):_vm._e()})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <widget :name=\"`новости (${filter.length})`\" wrap justify-center>\r\n        <div slot=\"header\">\r\n            <v-layout class=\"ma-2\">\r\n                <h2 class=\"primary--text\">\r\n                    <v-icon color=\"primary\" medium class=\"mr-2 shadow\">fas fa-exclamation-circle</v-icon>\r\n                    Статьи и нструкции\r\n                </h2>\r\n                <v-speed-dial \r\n                    v-if=\"auth.group === 'admins'\"\r\n                    class=\"top-dial\" \r\n                    absolute\r\n\r\n                    \r\n                    \r\n                    right\r\n                >\r\n                    <v-btn\r\n                        slot=\"activator\"\r\n                        dark\r\n                        fab\r\n                        color=\"accent\"\r\n                        @click=\"commit('SHOW_MODAL', { 'manual': { parent: section } })\"\r\n                    >\r\n                        <v-icon>fas fa-plus</v-icon>\r\n                        <v-icon class=\"second-icon\" :size=\"12\" v-show=\"!append\" color=\"\">far fa-file</v-icon>\r\n\r\n                        <v-icon>fas fa-times</v-icon>\r\n                    </v-btn>\r\n                    <!-- <v-btn\r\n                        fab\r\n                        dark\r\n                        small\r\n                        color=\"secondary\"\r\n                        @click=\"commit('SHOW_MODAL', { 'manual': { parent: section } })\"\r\n                    >\r\n                        <v-tooltip left>\r\n                            <v-icon slot=\"activator\">far fa-newspaper</v-icon>\r\n                            <span>Добавить новость</span>\r\n                        </v-tooltip>\r\n                    </v-btn>\r\n                    <v-btn\r\n                        fab\r\n                        dark\r\n                        small\r\n                        color=\"secondary\"\r\n                        @click=\"commit('SHOW_MODAL', { 'manual': void 0 })\"\r\n                    >\r\n                        <v-tooltip left>\r\n                            <v-icon slot=\"activator\">far fa-calendar-alt</v-icon>\r\n                            <span>Добавить событие</span>\r\n                        </v-tooltip>\r\n                    </v-btn> -->\r\n                </v-speed-dial>\r\n            </v-layout>   \r\n        </div>\r\n\r\n        \r\n\r\n        <v-divider slot=\"divider\" class=\"mb-4\"/>\r\n\r\n        <v-flex v-if=\"filter.length\" v-for=\"item in filter\" :key=\"item._id\" style=\"max-width: 300px\">\r\n            <sui-card style=\"width: 300px!important\" :class=\"{ 'elevation-1': active !== item._id, 'elevation-10': active === item._id }\" @click=\"clicked = item._id\" @mouseover=\"active = item._id\" @mouseout=\"active = false\">\r\n                <!-- <sui-image src=\"static/images/avatar/large/matthew.png\" /> -->\r\n                <!-- :placeholder=\"`https://placeimg.com/300/${200 + item._id}/nature`\" -->\r\n                <sui-embed v-if=\"item.video_url\"\r\n                    :active=\"item._id === clicked\"\r\n                    icon=\"fas fa-film\"\r\n                    :id=\"item.video_id\"\r\n                    :placeholder=\"item.compressed ? `${BASE_URL}/${item._id}/files/${item.compressed}` : `https://placeimg.com/150/${100 + item._id}/nature`\"\r\n                    :source=\"item.video_provider\"\r\n                    :iframe=\"{ allowFullScreen: true, allowfullscreen: true, mozallowfullscreen: true, webkitallowfullscreen: true}\"\r\n                />\r\n                <v-card-media v-else-if=\"item.compressed\" :height=\"159.75\" :src=\"item.compressed ? `${BASE_URL}/${item._id}/files/${item.compressed}` : ''\" />\r\n                <v-card-media v-else :height=\"159.75\" :src=\"`https://placeimg.com/150/${100 + item._id}/nature`\" />\r\n\r\n                <sui-card-content>\r\n                    <sui-card-header :alt=\"item.title\" :class=\"item._id === active ? 'accent--text' : 'primary--text'\">{{ item.title }}</sui-card-header>\r\n                    <sui-card-meta><small>{{ new Date(parseInt(item.created)).toLocaleString() }}</small></sui-card-meta>\r\n\r\n                    <v-divider/>\r\n\r\n                    <sui-card-description v-html=\"item.text\"/>\r\n                        <!-- {{ item.text }} -->\r\n                </sui-card-content>\r\n                <sui-card-content extra>\r\n                    <div v-if=\"item.tags && item.tags.length\" style=\"overflow: hidden; white-space: nowrap; text-overflow: ellipsis; display: inline-block; max-width: 120px\">\r\n                        <v-icon class=\"mr-1 secondary--text\" :size=\"12\">fas fa-tags</v-icon>\r\n                        <small>{{ item.tags.reduce((str, item, inx, arr) => str = str + item + (inx === arr.length - 1 ? '' : ' | '), '') }}</small>\r\n                    </div>\r\n                    <v-btn slot=\"right\" @click.stop :to=\"`readmanual:${item._id}`\" dark flat color=\"secondary\" icon small class=\"ma-0\"><v-icon small>fas fa-expand</v-icon></v-btn>\r\n                </sui-card-content>\r\n\r\n                <v-speed-dial class=\"card-dial\"\r\n                        v-if=\"auth.group === 'admins'\"\r\n                        absolute\r\n                        v-model=\"fab[item._id]\"\r\n                        \r\n                        :bottom=\"bottom\"\r\n                        :right=\"right\"\r\n                        :left=\"left\"\r\n                        :direction=\"direction\"\r\n                        :open-on-hover=\"hover\"\r\n                        :transition=\"transition\"\r\n                        v-show=\"item._id === active\"\r\n                    >\r\n                    <!-- :style=\"fab[item._id] ? 'background-color: rgb(142, 36, 170)' : 'background-color: rgb(142, 36, 170, 0.5)'\" -->\r\n                        <v-btn\r\n                            slot=\"activator\"\r\n                            v-model=\"fab[item._id]\"\r\n                            \r\n                            dark\r\n                            fab\r\n                            small\r\n                            color=\"accent\"\r\n                            :style=\"!fab[item._id] && 'opacity: 0.5'\"\r\n                        >\r\n                            <v-icon>fas fa-chevron-down</v-icon>\r\n                            <v-icon>fas fa-chevron-up</v-icon>\r\n                        </v-btn>\r\n                        <v-btn\r\n                            icon\r\n                            dark\r\n                            small\r\n                            color=\"secondary\"\r\n                            @click=\"commit('SHOW_MODAL', { 'manual': item })\"\r\n                            class=\"btn-icon-shadow\"\r\n                        >\r\n                            <v-tooltip left>\r\n                                <v-icon slot=\"activator\" :size=\"13\" style=\"margin-bottom: 1px\">fas fa-pen</v-icon>\r\n                                <span>Редактировать</span>\r\n                            </v-tooltip>\r\n                        </v-btn>\r\n                        <v-btn\r\n                            icon\r\n                            dark\r\n                            small\r\n                            color=\"error\"\r\n                            @click.native=\"commit('SHOW_MODAL', { 'manual': item, options: { remove: true }})\"\r\n                            class=\"btn-icon-shadow\"\r\n                        >\r\n                            <v-tooltip left>\r\n                                <v-icon  slot=\"activator\" small>fas fa-times</v-icon>\r\n                                <span>Удалить</span>\r\n                            </v-tooltip>\r\n                        </v-btn>\r\n                    </v-speed-dial>\r\n\r\n            </sui-card>\r\n                \r\n        </v-flex>\r\n        <!-- <v-flex v-if=\"!filter.length\">\r\n            <sui-card class=\"elevation-0 not-found\">\r\n                <sui-card-content>\r\n                    <sui-card-header>{{ `Новостей за ${new Date(date).toLocaleDateString()} не найдено` : '' }}</sui-card-header>\r\n                </sui-card-content>\r\n            </sui-card>\r\n        </v-flex> -->\r\n\r\n        <!-- <news-dialog @removed=\"removed\" @appended=\"appended\"/> -->\r\n    </widget>        \r\n</template>\r\n\r\n<script>\r\n    import Widget from './class_widget';\r\n    //import newsDialog from '../modals/news-dialog';\r\n\r\n    export default {\r\n        props: ['section'],\r\n        extends: Widget,\r\n        components: {\r\n            //newsDialog\r\n            //news: () => import('../modals/news'), DONT DO LIKE THIS, REGISTERED MULTIPLY SAME DIALOGS AND SHOWS THEM TOGETHER, USE REGISTER_MODAL INSTEAD\r\n        },\r\n        created() {\r\n            //this.commit('REGISTER_MODAL', 'news-dialog');\r\n        },\r\n        computed: {\r\n            filter() {\r\n                //debugger\r\n                ////console.log(this.section);\r\n                let raw_data = this.raw_data.filter(item => item.parents.includes(this.section));\r\n\r\n                return raw_data.sort((a, b) => a.created - b.created);\r\n            },\r\n        },\r\n        methods: {\r\n            tags(item) {\r\n                return item.tags.reduce((str, item, inx) => str = str + item, '')\r\n            },\r\n            onHover(id) {\r\n                this.value[id] = true;\r\n                this.active = id;\r\n            },\r\n        },\r\n        watch: {\r\n            'append': function(val) {\r\n                val && this.onHover(0);\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                append: false,\r\n\r\n                active: false,\r\n                clicked: false,\r\n                value: {},\r\n                direction: 'bottom',\r\n                fab: {},\r\n                hover: true,\r\n                top: true,\r\n                right: true,\r\n                bottom: false,\r\n                left: false,\r\n                transition: 'slide-y-reverse-transition',\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .second-icon {\r\n        margin-bottom: 24px;\r\n        margin-left: 24px;\r\n    }\r\n    .v-card, .ui.card {\r\n        margin: auto;\r\n    }\r\n\r\n    .card-dial {\r\n        margin-top: 16px;\r\n        padding-bottom: 6px;\r\n        /* z-index: 1; */\r\n    }\r\n\r\n    .top-dial {\r\n        margin-top: 24px;\r\n    }\r\n\r\n    .ui.card, .ui.card>:first-child {\r\n        border-radius: 0px!important;\r\n    }\r\n\r\n    .ui.card.not-found {\r\n        text-align: center;\r\n        width: inherit!important;\r\n        cursor: default;\r\n    }\r\n\r\n    .ui.card {\r\n        width: 200px!important;\r\n        cursor: pointer;\r\n    }\r\n    \r\n    .description {\r\n        min-height: 100px;\r\n        max-height: 100px;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .description {\r\n        position: relative;\r\n    }\r\n\r\n    .description:after {\r\n        left: 0;\r\n        position: absolute;\r\n        bottom: 0;  \r\n        height: 100%;\r\n        width: 100%;\r\n        content: \"\";\r\n        background: linear-gradient(to top,\r\n            rgba(255,255,255, 1) 0%, \r\n            rgba(255,255,255, 0) 100%\r\n        );\r\n        pointer-events: none; \r\n    }\r\n\r\n    .header {\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n    }\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manual.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manual.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./manual.vue?vue&type=template&id=52c8ea5a&scoped=true&\"\nimport script from \"./manual.vue?vue&type=script&lang=js&\"\nexport * from \"./manual.vue?vue&type=script&lang=js&\"\nimport style0 from \"./manual.vue?vue&type=style&index=0&id=52c8ea5a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52c8ea5a\",\n  null\n  \n)\n\ncomponent.options.__file = \"manual.vue\"\nexport default component.exports","import Base from '../class_base';\r\nimport {Cache} from 'axios-extensions';\r\n//import widget from './widgets/widget';\r\n\r\nexport default {\r\n    extends: Base,\r\n    components: {\r\n        widget: () => import('./widget')\r\n    },\r\n    data() {\r\n        return {\r\n            active: false\r\n        }\r\n    },\r\n    activated() {\r\n        //console.log('activated', this.entity);\r\n        this.active = true;\r\n        this.load();\r\n    },\r\n    deactivated() {\r\n        //console.log('deactivated', this.entity);\r\n        this.active = false;\r\n        //this.load();\r\n    },\r\n    methods: {\r\n        load() {\r\n            //debugger;\r\n            //console.log('LOADING:', this.entity);\r\n            this.active && this.execute({ endpoint: this.endpoint, method: 'get', cache: this.cache }); \r\n\r\n            if(this.auth.signed === 1 && this.auth.member) {\r\n                console.log('REGISTER EVENT:', `${this.auth.member}:update:${this.entity}`);\r\n\r\n                this.$socket.off(this.events.update);\r\n\r\n                let event = `${this.auth.member}:update:${this.entity}`;\r\n                let update = this.$socket.on(event, (data) => {\r\n                    //debugger\r\n                    this.onEvent(data);\r\n\r\n                });\r\n\r\n                this.events.update = event;\r\n            }\r\n        },\r\n        onEvent(data) {\r\n            console.log('SOCKET UPDATE DATA:', data);\r\n                    \r\n            this.commit('SET_ENTITIES', { method: 'GET', ...data });\r\n        }\r\n    },\r\n    computed: {\r\n        cache() {\r\n            return true;\r\n        },\r\n        endpoint() {\r\n            return `${this.entity}${ this.component_id ? ':' + this.component_id : '' }`;\r\n        },\r\n        raw_data() {\r\n            return this.$store.state.entities[this.entity] ? Object.values(this.$store.state.entities[this.entity]) : [];\r\n        },\r\n        filter() {\r\n            return this.raw_data; //переопределить в компоненте если надо фильтровать данные\r\n        }\r\n    },\r\n    watch: {\r\n        'auth.signed': function(val, old) {\r\n            //console.log(`SIGN CHANGED on ${this.entity} from:`, old, 'TO:', val, 'EVENT');\r\n            //val < old && this.load();\r\n\r\n            //this.commit('RESET_CACHE');\r\n            val === 1 && this.load();\r\n            /* val === 1 && this.load();\r\n\r\n            if(val === 1 && this.auth.member) {\r\n                console.log('REGISTER EVENT:', `${this.auth.member}:update:${this.entity}`);\r\n\r\n                this.$socket.off(this.events.update);\r\n\r\n                let update = this.$socket.on(`${this.auth.member}:update:${this.entity}`, (data) => {\r\n                    //debugger\r\n                    this.onEvent(data);\r\n\r\n                });\r\n\r\n                this.events.update = update.id;\r\n            } */\r\n        },\r\n        'auth.member': function(val, old) {\r\n            //console.log(`${this.entity} MEMBER CHANGED from:`, old, 'TO:', val);\r\n            !val && this.$socket.off(this.events.update);\r\n        }\r\n    }\r\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manual.vue?vue&type=style&index=0&id=52c8ea5a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manual.vue?vue&type=style&index=0&id=52c8ea5a&scoped=true&lang=css&\""],"sourceRoot":""}