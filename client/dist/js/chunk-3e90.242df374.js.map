{"version":3,"sources":["webpack:///./src/components/elements/v-file-upload.vue?e4db","webpack:///src/components/elements/v-file-upload.vue","webpack:///./src/components/elements/v-file-upload.vue?4df5","webpack:///./src/components/elements/v-file-upload.vue","webpack:///./src/components/elements/v-file-upload.vue?d1a3"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","attrs","single-line","readonly","clearable","hint","persistent-hint","label","required","disabled","on","input","onChange","nativeOn","click","$event","onFocus","model","value","callback","$$v","filename","expression","type","accept","multiple","change","onFileChange","staticRenderFns","v_file_uploadvue_type_script_lang_js_","props","Array","String","FormData","default","Boolean","[object Object]","watch","v","methods","val","$emit","files","data","forEach","file","append","name","$refs","fileInput","target","dataTransfer","form","getFormData","length","map","join","split","pop","elements_v_file_uploadvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_v_file_upload_vue_vue_type_style_index_0_id_ffd42d04_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"0IAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,gBAAoCE,IAAA,gBAAAC,OAA2BC,cAAA,GAAAC,SAAA,GAAAC,UAAA,GAAAC,KAAA,cAAAC,kBAAA,GAAAC,MAAAb,EAAAa,MAAAC,SAAAd,EAAAc,SAAAC,SAAAf,EAAAe,UAA0JC,IAAKC,MAAAjB,EAAAkB,UAAqBC,UAAWC,MAAA,SAAAC,GAAyB,OAAArB,EAAAsB,QAAAD,KAA4BE,OAAQC,MAAAxB,EAAA,SAAAyB,SAAA,SAAAC,GAA8C1B,EAAA2B,SAAAD,GAAiBE,WAAA,cAAwBxB,EAAA,SAAcE,IAAA,YAAAC,OAAuBsB,KAAA,OAAAC,OAAA9B,EAAA8B,OAAAC,UAAA,EAAAhB,SAAAf,EAAAe,UAA2EC,IAAKgB,OAAAhC,EAAAiC,iBAA2B,IAC3nBC,KCkBAC,GACAC,OACAZ,OACAK,MAAAQ,MAAAC,OAAAC,WAEAT,QACAD,KAAAS,OACAE,QAAA,KAEA3B,OACAgB,KAAAS,OACAE,QAAA,oBAEA1B,UACAe,KAAAY,QACAD,SAAA,GAEAzB,UACAc,KAAAY,QACAD,SAAA,GAEAT,UACAF,KAAAY,QACAD,SAAA,IAGAE,OACA,OACAf,SAAA,KAGAgB,OACAD,MAAAE,GAEA3C,KAAA0B,SAAAiB,IAGAF,UACAzC,KAAA0B,SAAA1B,KAAAuB,OAGAqB,SACAH,SAAAI,IACAA,GAAA7C,KAAA8C,MAAA,UAIAL,YAAAM,GACA,MAAAC,EAAA,IAAAV,SAIA,UAHAS,GAAAE,QAAAC,IACAF,EAAAG,OAAA,OAAAD,IAAAE,QAEAJ,GAEAP,UACAzC,KAAAc,UAEAd,KAAAqD,MAAAC,UAAAnC,SAGAsB,aAAArB,GAEA,MAAA2B,EAAA3B,EAAAmC,OAAAR,OAAA3B,EAAAoC,aAAAT,MACAU,EAAAzD,KAAA0D,YAAAX,GACAA,EACAA,EAAAY,OAAA,EACA3D,KAAA0B,aAAAqB,GAAAa,IAAAV,KAAAE,MAAAS,KAAA,MAEA7D,KAAA0B,SAAA,KAGA1B,KAAA0B,SAAAN,EAAAmC,OAAAhC,MAAAuC,MAAA,MAAAC,MAEA/D,KAAA8C,MAAA,QAAA9C,KAAA0B,UACA1B,KAAA8C,MAAA,YAAAW,MC7F4LO,EAAA,0BCQ5LC,EAAAC,OAAAC,EAAA,KAAAD,CACAF,EACAlE,EACAmC,GACA,EACA,KACA,WACA,MAIAgC,EAAAG,QAAAC,OAAA,oBACAC,EAAA,WAAAL,sECpBydM,EAAA","file":"js/chunk-3e90.242df374.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{ref:\"fileTextField\",attrs:{\"single-line\":\"\",\"readonly\":\"\",\"clearable\":\"\",\"hint\":\"выбор файла\",\"persistent-hint\":\"\",\"label\":_vm.label,\"required\":_vm.required,\"disabled\":_vm.disabled},on:{\"input\":_vm.onChange},nativeOn:{\"click\":function($event){return _vm.onFocus($event)}},model:{value:(_vm.filename),callback:function ($$v) {_vm.filename=$$v},expression:\"filename\"}}),_c('input',{ref:\"fileInput\",attrs:{\"type\":\"file\",\"accept\":_vm.accept,\"multiple\":false,\"disabled\":_vm.disabled},on:{\"change\":_vm.onFileChange}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <v-text-field \r\n            @input=\"onChange\"\r\n            single-line\r\n            readonly\r\n            clearable\r\n            hint=\"выбор файла\"\r\n            persistent-hint\r\n            v-model=\"filename\" :label=\"label\" :required=\"required\"\r\n            @click.native=\"onFocus\"\r\n            :disabled=\"disabled\" ref=\"fileTextField\"/>\r\n        \r\n        <input type=\"file\" :accept=\"accept\" :multiple=\"false\" :disabled=\"disabled\"\r\n               ref=\"fileInput\" @change=\"onFileChange\">\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default{\r\n        props: {\r\n            value: {\r\n                type: [Array, String, FormData]\r\n            },\r\n            accept: {\r\n                type: String,\r\n                default: \"*\"\r\n            },\r\n            label: {\r\n                type: String,\r\n                default: \"Please choose...\"\r\n            },\r\n            required: {\r\n                type: Boolean,\r\n                default: false\r\n            },\r\n            disabled: {\r\n                type: Boolean,\r\n                default: false\r\n            },\r\n            multiple: {\r\n                type: Boolean, // not yet possible because of data\r\n                default: false\r\n            }\r\n        },\r\n        data(){\r\n            return {\r\n                filename: \"\"\r\n            };\r\n        },\r\n        watch: {\r\n            value(v){\r\n                //debugger\r\n                this.filename = v;\r\n            }\r\n        },\r\n        mounted() {\r\n            this.filename = this.value;\r\n        },\r\n\r\n        methods: {\r\n            onChange(val) {\r\n                !val && this.$emit('clear');\r\n                ////console.log(val);\r\n                //debugger\r\n            },\r\n            getFormData(files){\r\n                const data = new FormData();\r\n                [...files].forEach(file => {\r\n                    data.append('blob', file, file.name); // currently only one file at a time\r\n                });\r\n                return data;\r\n            },\r\n            onFocus(){\r\n                if (!this.disabled) {\r\n                    //debugger;\r\n                    this.$refs.fileInput.click();\r\n                }\r\n            },\r\n            onFileChange($event){\r\n                //debugger\r\n                const files = $event.target.files || $event.dataTransfer.files;\r\n                const form = this.getFormData(files);\r\n                if (files) {\r\n                    if (files.length > 0) {\r\n                        this.filename = [...files].map(file => file.name).join(', ');\r\n                    } else {\r\n                        this.filename = null;\r\n                    }\r\n                } else {\r\n                    this.filename = $event.target.value.split('\\\\').pop();\r\n                }\r\n                this.$emit('input', this.filename);\r\n                this.$emit('form-data', form);\r\n                //this.$emit('input', form);\r\n            }\r\n        }\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    input[type=file] {\r\n        position: absolute;\r\n        left: -99999px;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./v-file-upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./v-file-upload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./v-file-upload.vue?vue&type=template&id=ffd42d04&scoped=true&\"\nimport script from \"./v-file-upload.vue?vue&type=script&lang=js&\"\nexport * from \"./v-file-upload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./v-file-upload.vue?vue&type=style&index=0&id=ffd42d04&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ffd42d04\",\n  null\n  \n)\n\ncomponent.options.__file = \"v-file-upload.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./v-file-upload.vue?vue&type=style&index=0&id=ffd42d04&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./v-file-upload.vue?vue&type=style&index=0&id=ffd42d04&scoped=true&lang=css&\""],"sourceRoot":""}