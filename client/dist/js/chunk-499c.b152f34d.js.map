{"version":3,"sources":["webpack:///./src/components/modals/manual.vue?5ee8","webpack:///src/components/modals/manual.vue","webpack:///./src/components/modals/manual.vue?d072","webpack:///./src/components/modals/manual.vue","webpack:///./src/components/modals/manual.vue?91e3"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","persistent","max-width","model","value","callback","$$v","visible","expression","staticClass","_v","ref","lazy-validation","on","submit","$event","preventDefault","disabled","options","remove","label","form","picture","input","arguments","form-data","blob","clear","hint","color","validate-on-blur","rules","video_url","includes","video_provider","keyup","_k","keyCode","key","$set","autofocus","required","title","useMarkdownShortcuts","editorToolbar","toolbar","chips","clearable","multiple","scopedSlots","_u","fn","data","class","small","selected","close","tags","splice","indexOf","item","_s","flat","nativeOn","click","_obj","commit","entity","dark","staticRenderFns","manualvue_type_script_lang_js_","extends","class_modal","inheritAttrs","components","vFileUpload","v_file_upload","VueEditor","vue2_editor","[object Object]","align","header","list","script","computed","methods","FormData","watch","form.video_url","val","video","lib_default","a","parse","provider","video_id","id","modals_manualvue_type_script_lang_js_","component","Object","componentNormalizer","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_manual_vue_vue_type_style_index_0_id_7827423b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-499c.b152f34d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"700px\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('v-card',[_c('v-card-title',[_c('v-icon',{staticClass:\"mr-1 primary--text shadow\"},[_vm._v(\"fas fa-newspaper\")]),_c('span',{staticClass:\"headline primary--text\"},[_vm._v(\"Статья\")])],1),_c('v-card-text',[_c('v-card-text',[_c('v-form',{ref:\"form\",staticClass:\"form\",attrs:{\"lazy-validation\":\"\"},on:{\"submit\":function($event){$event.preventDefault();}}},[_c('v-file-upload',{staticClass:\"mb-4\",attrs:{\"disabled\":_vm.options.remove,\"label\":\"Картинка\",\"value\":_vm.form.picture},on:{\"input\":function($event){_vm.form.picture = arguments[0]},\"form-data\":function($event){_vm.form.blob = arguments[0]},\"clear\":function($event){_vm.form.picture = ''}}}),_c('v-text-field',{attrs:{\"disabled\":_vm.options.remove,\"label\":\"Видео\",\"hint\":\"ссылка на видео\",\"color\":\"primary\",\"validate-on-blur\":\"\",\"rules\":[\n                            function () { return (!!_vm.form.video_url && ['youtube', 'vimeo'].includes(_vm.form.video_provider)) || !_vm.form.video_url || 'Не поддерживаемое видео'; } ]},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit($event)}},model:{value:(_vm.form.video_url),callback:function ($$v) {_vm.$set(_vm.form, \"video_url\", $$v)},expression:\"form.video_url\"}}),_c('v-text-field',{attrs:{\"autofocus\":\"\",\"disabled\":_vm.options.remove,\"label\":\"Заголовок\",\"hint\":\"Например: Нас уже полмиллиона!\",\"required\":\"\",\"color\":\"primary\",\"rules\":[\n                            function () { return !!_vm.form.title || 'This field is required'; } ],\"validate-on-blur\":\"\"},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit($event)}},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}}),_c('vue-editor',{attrs:{\"disabled\":_vm.options.remove,\"useMarkdownShortcuts\":\"\",\"editorToolbar\":_vm.toolbar},model:{value:(_vm.form.text),callback:function ($$v) {_vm.$set(_vm.form, \"text\", $$v)},expression:\"form.text\"}}),_c('v-combobox',{attrs:{\"disabled\":_vm.options.remove,\"label\":\"Новостные тэги\",\"chips\":\"\",\"clearable\":\"\",\"multiple\":\"\"},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c('v-chip',{class:_vm.options.remove ? 'grey lighten-2 white--text' : 'secondary white--text',attrs:{\"small\":\"\",\"selected\":data.selected,\"close\":\"\"},on:{\"input\":function($event){_vm.form.tags.splice(_vm.form.tags.indexOf(data.item), 1)}}},[_c('span',[_vm._v(_vm._s(data.item))])])]}}]),model:{value:(_vm.form.tags),callback:function ($$v) {_vm.$set(_vm.form, \"tags\", $$v)},expression:\"form.tags\"}})],1),_c('small',[_vm._v(\"*Требуемые для заполнения поля\")])],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"unimportant\",\"flat\":\"\"},nativeOn:{\"click\":function($event){_vm.commit('HIDE_MODAL', ( _obj = {}, _obj[_vm.entity] = void 0, _obj ))\n                        var _obj;}}},[_vm._v(_vm._s(_vm.options.remove ? 'Не удалять' : 'Не сохранять'))]),_c('v-btn',{class:_vm.options.remove ? 'error' : 'secondary',attrs:{\"dark\":\"\",\"flat\":\"\"},nativeOn:{\"click\":function($event){return _vm.submit($event)}}},[_vm._v(_vm._s(_vm.options.remove ? 'Удалить' : 'Cохранить'))])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-dialog v-model=\"visible\" persistent max-width=\"700px\">\r\n        <v-card>\r\n            <v-card-title>\r\n                <v-icon class=\"mr-1 primary--text shadow\">fas fa-newspaper</v-icon>\r\n                <span class=\"headline primary--text\">Статья</span>\r\n            </v-card-title>\r\n            <v-card-text>\r\n                <v-card-text>\r\n                    <v-form ref=\"form\" class=\"form\" lazy-validation @submit.prevent>\r\n                        <v-file-upload \r\n                            :disabled=\"options.remove\"\r\n                            label=\"Картинка\" \r\n                            class=\"mb-4\" \r\n                            :value=\"form.picture\" \r\n                            @input=\"form.picture = arguments[0]\" \r\n                            @form-data=\"form.blob = arguments[0]\"\r\n                            @clear=\"form.picture = ''\"\r\n                        />\r\n                        <v-text-field \r\n                            :disabled=\"options.remove\"\r\n                            v-model=\"form.video_url\"\r\n                            label=\"Видео\"\r\n                            hint=\"ссылка на видео\"\r\n                            color=\"primary\"\r\n                            @keyup.enter=\"submit\"\r\n                            validate-on-blur\r\n                            :rules=\"[\r\n                                () => (!!form.video_url && ['youtube', 'vimeo'].includes(form.video_provider)) || !form.video_url || 'Не поддерживаемое видео',\r\n                            ]\"\r\n                        />\r\n                        <v-text-field \r\n                            autofocus\r\n                            :disabled=\"options.remove\"\r\n                            v-model=\"form.title\"\r\n                            label=\"Заголовок\"\r\n                            hint=\"Например: Нас уже полмиллиона!\"\r\n                            required\r\n                            color=\"primary\"\r\n                            :rules=\"[\r\n                                () => !!form.title || 'This field is required',\r\n                            ]\"\r\n                            @keyup.enter=\"submit\"\r\n                            validate-on-blur\r\n                        />\r\n                        <vue-editor v-model=\"form.text\" \r\n                            :disabled=\"options.remove\"\r\n                            useMarkdownShortcuts\r\n                            :editorToolbar=\"toolbar\"/>\r\n                        <!-- <v-textarea \r\n                            :disabled=\"options.remove\"\r\n                            v-model=\"form.text\"\r\n                            label=\"Текст\"\r\n                            required\r\n                            color=\"primary\"\r\n                            :rules=\"[\r\n                                () => !!form.text || 'This field is required',\r\n                            ]\"\r\n                            validate-on-blur\r\n                        /> -->\r\n                        <v-combobox\r\n                            :disabled=\"options.remove\"\r\n                            v-model=\"form.tags\"\r\n                            label=\"Новостные тэги\"\r\n                            chips\r\n                            clearable\r\n                            multiple\r\n                            \r\n                        >\r\n                            <template slot=\"selection\" slot-scope=\"data\">\r\n                                <v-chip small\r\n                                    :selected=\"data.selected\"\r\n                                    close\r\n                                    @input=\"form.tags.splice(form.tags.indexOf(data.item), 1)\"\r\n                                    :class=\"options.remove ? 'grey lighten-2 white--text' : 'secondary white--text'\"\r\n                                >\r\n                                    <span>{{ data.item }}</span>\r\n                                </v-chip>\r\n                            </template>\r\n                        </v-combobox>\r\n                        <!-- <v-text-field \r\n                            :disabled=\"options.remove\"\r\n                            v-model=\"form.tags\"\r\n                            label=\"Тэги\"\r\n                            required\r\n                            color=\"primary\"\r\n                            :rules=\"[\r\n                                () => !!form.tags || 'This field is required',\r\n                            ]\"\r\n                            @keyup.enter=\"submit\"\r\n                            validate-on-blur\r\n                        /> -->\r\n                    </v-form>\r\n                    <small>*Требуемые для заполнения поля</small>\r\n                </v-card-text>\r\n            </v-card-text>\r\n            <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn color=\"unimportant\" flat @click.native=\"commit('HIDE_MODAL', { [entity]: void 0 })\">{{ options.remove ? 'Не удалять' : 'Не сохранять'}}</v-btn>\r\n                \r\n                <v-btn dark :class=\"options.remove ? 'error' : 'secondary'\" flat @click.native=\"submit\">{{ options.remove ? 'Удалить' : 'Cохранить'}}</v-btn>\r\n            </v-card-actions>\r\n\r\n        </v-card>\r\n\r\n    </v-dialog>\r\n</template>\r\n\r\n<script>\r\n    import Modal from './class_modal';\r\n    import vFileUpload from '../elements/v-file-upload';\r\n    import urlParser from \"js-video-url-parser\";\r\n    import { VueEditor } from \"vue2-editor\";\r\n\r\n    export default {\r\n        extends: Modal,\r\n        inheritAttrs: false,\r\n        components: {\r\n            vFileUpload,\r\n            VueEditor\r\n        },\r\n        data() {\r\n            return {\r\n                toolbar: [\r\n                    ['bold', 'italic', 'underline', 'strike'],\r\n                    [{'align': ''}, {'align': 'center'}, {'align': 'right'}, {'align': 'justify'}],\r\n                    [{ 'header': 1 }, { 'header': 2 }, { 'header': 3 }],\r\n                    /* ['blockquote'], */\r\n                    [{ 'list': 'ordered'}, { 'list': 'bullet' }/* , { 'list': 'check' } */],\r\n                    [{ 'script': 'sub'}, { 'script': 'super' }],\r\n                    /* [{ 'indent': '-1'}, { 'indent': '+1' }], */\r\n                    ['link', 'image'],\r\n                    ['clean']   \r\n                ]\r\n            }\r\n        },\r\n        computed: {\r\n            /* endpoint() {\r\n                return 'news.save';\r\n            } */\r\n        },\r\n        methods: {\r\n            beforeSave(data) {\r\n                if(data.blob instanceof FormData) {\r\n                    //data.parent = data.parent._id;\r\n                }\r\n                \r\n                return data;\r\n            },  \r\n        },\r\n        watch: {\r\n            'form.video_url': function(val) {\r\n                let video = urlParser.parse(val);\r\n                if(video) {\r\n                    this.form.video_provider = video.provider;\r\n                    this.form.video_id = video.id;\r\n                }\r\n                else {\r\n                    this.form.video_provider = void 0;\r\n                    this.form.video_id = void 0;\r\n                }\r\n                ////console.log(this.form.video);\r\n                /* { \r\n                    mediaType: 'video',\r\n                    id: 'HRb7B9fPhfA',\r\n                    provider: 'youtube' \r\n                } */\r\n            }\r\n        }\r\n    }    \r\n</script>\r\n\r\n<style scoped>\r\n    .ql-snow .ql-tooltip {\r\n        left: 0!important;\r\n    }\r\n\r\n    #quill-container {\r\n        max-height: 300px;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manual.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manual.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./manual.vue?vue&type=template&id=7827423b&scoped=true&\"\nimport script from \"./manual.vue?vue&type=script&lang=js&\"\nexport * from \"./manual.vue?vue&type=script&lang=js&\"\nimport style0 from \"./manual.vue?vue&type=style&index=0&id=7827423b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7827423b\",\n  null\n  \n)\n\ncomponent.options.__file = \"manual.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manual.vue?vue&type=style&index=0&id=7827423b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manual.vue?vue&type=style&index=0&id=7827423b&scoped=true&lang=css&\""],"sourceRoot":""}