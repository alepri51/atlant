{"version":3,"sources":["webpack:///./src/components/modals/class_modal.js","webpack:///./src/components/modals/signin.vue?a1f7","webpack:///src/components/modals/signin.vue","webpack:///./src/components/modals/signin.vue?5b99","webpack:///./src/components/modals/signin.vue"],"names":["__webpack_exports__","extends","_class_base__WEBPACK_IMPORTED_MODULE_0__","[object Object]","form","options","defaults","computed","methods","data","validated","this","remove","$refs","validate","headers","beforeSave","blob","FormData","content-type","Object","keys","reduce","memo","key","has","set","append","execute","method","endpoint","entity","payload","callback","response","error","commit","$emit","_id","entities","id","deleted","onSubmit","text","visible","modal_data","state","modals","JSON","parse","stringify","length","watch","val","default","render","_vm","_h","$createElement","_c","_self","attrs","persistent","max-width","model","value","$$v","expression","staticClass","_v","ref","lazy-validation","on","submit","$event","preventDefault","label","required","autofocus","color","rules","email","keyup","_k","keyCode","type","password","flat","nativeOn","click","signin","dark","staticRenderFns","signinvue_type_script_lang_js_","class_modal","vm","$data","view","signed_in","$router","replace","modals_signinvue_type_script_lang_js_","component","componentNormalizer","__file"],"mappings":"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","file":"js/chunk-5b0d.e353c445.js","sourcesContent":["import Base from '../class_base';\r\n\r\nexport default {\r\n    extends: Base,\r\n    data() {\r\n        return {\r\n            form: {},\r\n            options: {},\r\n            defaults: {}\r\n        }\r\n    },\r\n    computed: {\r\n    },\r\n    methods: {\r\n        beforeSave(data) {\r\n            return data;\r\n        },        \r\n        submit() {\r\n            debugger\r\n            let validated = this.options.remove || (this.$refs.form && this.$refs.form.validate()) || !this.$refs.form;\r\n\r\n            let headers = {};\r\n            let data = void 0;\r\n\r\n            this.form = this.beforeSave(this.form);\r\n\r\n            if(this.form.blob instanceof FormData) {\r\n                headers = {\r\n                    'content-type': 'multipart/form-data'\r\n                };\r\n\r\n                data = Object.keys(this.form).reduce((memo, key) => {\r\n                    key !== 'blob' && memo.has(key) ? memo.set(key, this.form[key]) : memo.append(key, this.form[key]);\r\n\r\n                    return memo;\r\n                }, this.form.blob);\r\n            }\r\n\r\n\r\n            validated ? \r\n                this.execute({ \r\n                    method: this.options.remove ? 'delete' : 'post',\r\n                    headers,\r\n                    endpoint: `${this.entity}.save`,\r\n                    payload: data || this.form, \r\n                    callback: (response) => {\r\n                        if(!response.error) {\r\n                            this.commit('HIDE_MODAL', { [this.entity]: void 0 });\r\n                            this.options.remove && this.$emit('removed', this.form._id);\r\n                            !this.form._id && this.$emit('appended', this.form._id);\r\n\r\n                            this.$refs.form && this.commit('MUTATE_ENTITY', { entities: response.entities, entity: this.entity, id: this.form._id, deleted: this.options.remove });\r\n                            //this.commit('MUTATE_ENTITY', { entities: response.entities, entity: this.entity, id: this.form._id, deleted: this.options.remove });\r\n                            this.form = {};\r\n                            \r\n                            this.onSubmit && this.onSubmit();\r\n                        }\r\n                    }\r\n                })\r\n                :\r\n                this.commit('SHOW_SNACKBAR', {text: 'Не корректно введены данные' });\r\n        }\r\n    },\r\n    computed: {\r\n        visible: { \r\n            get() {\r\n                //debugger\r\n                let { data: modal_data, options = {} } = this.state.modals[this.entity] || { data: void 0, options: void 0 };\r\n                this.options = options;\r\n\r\n                let defaults = JSON.parse(JSON.stringify(this.defaults || {}));\r\n\r\n                //modal_data = modal_data || {};\r\n                modal_data = modal_data && {...defaults, ...modal_data};\r\n                this.form = Object.keys(this.form).length ? this.form : JSON.parse(JSON.stringify(modal_data || defaults));\r\n\r\n                //return !!Object.keys(modal_data).length;\r\n                return !!modal_data;\r\n\r\n                //typeof modal_data === 'object' && (Object.keys(modal_data).length ? this.form = JSON.parse(JSON.stringify(modal_data)) : this.form = JSON.parse(JSON.stringify(this.defaults || {})));\r\n                \r\n                //return !!modal_data;\r\n                //return false\r\n            },\r\n            set: () => {}\r\n        },\r\n    },\r\n    created() {\r\n        ////console.log('CREATED', this.entity);\r\n        //this.load();\r\n        //debugger\r\n        \r\n    },\r\n    watch: {\r\n        'visible': function(val) {\r\n            val && (this.defaults = this.entities.default && this.entities.default[this.entity] || {});\r\n        }\r\n    }\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('v-card',[_c('v-card-title',[_c('v-icon',{staticClass:\"mr-1 primary--text shadow\"},[_vm._v(\"fas fa-sign-in-alt\")]),_c('span',{staticClass:\"headline primary--text\"},[_vm._v(\"Вход\")])],1),_c('v-card-text',[_c('v-card-text',[_c('v-form',{ref:\"form\",staticClass:\"form\",attrs:{\"lazy-validation\":\"\"},on:{\"submit\":function($event){$event.preventDefault();}}},[_c('v-text-field',{attrs:{\"label\":\"Email\",\"required\":\"\",\"autofocus\":\"\",\"color\":\"primary\",\"rules\":[\n                                        function () { return !!_vm.email || 'This field is required'; } ]},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit($event)}},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('v-text-field',{attrs:{\"label\":\"Password\",\"type\":\"password\",\"required\":\"\",\"color\":\"primary\",\"rules\":[\n                                        function () { return !!_vm.password || 'This field is required'; } ]},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit($event)}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('small',[_vm._v(\"*indicates required field\")])],1)],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"unimportant\",\"flat\":\"\"},nativeOn:{\"click\":function($event){_vm.commit('HIDE_MODAL', { signin: void 0 })}}},[_vm._v(\"Вспомнить пароль\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"unimportant\",\"flat\":\"\"},nativeOn:{\"click\":function($event){_vm.commit('HIDE_MODAL', { signin: void 0 })}}},[_vm._v(\"Не входить\")]),_c('v-btn',{attrs:{\"dark\":\"\",\"color\":\"secondary\"},nativeOn:{\"click\":function($event){return _vm.submit($event)}}},[_vm._v(\"Войти\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-dialog v-model=\"visible\" persistent max-width=\"500px\">\r\n        <v-card>\r\n            <v-card-title>\r\n                <v-icon class=\"mr-1 primary--text shadow\">fas fa-sign-in-alt</v-icon>\r\n                <span class=\"headline primary--text\">Вход</span>\r\n            </v-card-title>\r\n            <v-card-text>\r\n                <v-card-text>\r\n                    <v-form ref=\"form\" class=\"form\" lazy-validation @submit.prevent>\r\n                        <v-text-field v-model=\"email\"\r\n                                        label=\"Email\"\r\n                                        required\r\n                                        autofocus\r\n                                        color=\"primary\"\r\n                                        :rules=\"[\r\n                                            () => !!email || 'This field is required',\r\n                                        ]\"\r\n                                        @keyup.enter=\"submit\"\r\n                        ></v-text-field>\r\n                        <v-text-field v-model=\"password\"\r\n                                        label=\"Password\"\r\n                                        type=\"password\"\r\n                                        required\r\n                                        color=\"primary\"\r\n                                        :rules=\"[\r\n                                            () => !!password || 'This field is required',\r\n                                        ]\"\r\n                                        @keyup.enter=\"submit\"\r\n                        ></v-text-field>\r\n                    </v-form>\r\n                    <small>*indicates required field</small>\r\n                </v-card-text>\r\n            </v-card-text>\r\n            <v-card-actions>\r\n                <v-btn color=\"unimportant\" flat @click.native=\"commit('HIDE_MODAL', { signin: void 0 })\">Вспомнить пароль</v-btn>\r\n                <v-spacer></v-spacer>\r\n                <v-btn color=\"unimportant\" flat @click.native=\"commit('HIDE_MODAL', { signin: void 0 })\">Не входить</v-btn>\r\n                <v-btn dark color=\"secondary\" @click.native=\"submit\">Войти</v-btn>\r\n            </v-card-actions>\r\n\r\n        </v-card>\r\n\r\n    </v-dialog>\r\n</template>\r\n\r\n<script>\r\n    import Modal from './class_modal';\r\n    \r\n    export default {\r\n        extends: Modal,\r\n        data: (vm) => {\r\n            return {\r\n                //entity: 'signin',\r\n                email: '7r@email.com',//'7r@email.com',//'NUFJCN',\r\n                password: '123'\r\n\r\n                /* email: 'club@atlant.club',\r\n                password: 'DerGfhjkm100' */\r\n            }\r\n        },\r\n        methods: {\r\n            submit() {\r\n                //this.$refs.form.validate() && this.$store.actions.signin({ email: this.email, password: this.password });'\r\n                //debugger;\r\n                this.$refs.form.validate() ? \r\n                    this.execute({ \r\n                        method: 'post', \r\n                        endpoint: 'signin.submit', \r\n                        payload: this.$data, \r\n                        callback: (response) => {\r\n                            if(!response.error) {\r\n                                //debugger;\r\n                                //this.commit('RESET_CACHE');\r\n                                this.commit('HIDE_MODAL', { signin: void 0 });\r\n                                \r\n                                this.state.view !== 'newslayout' ? this.state.signed_in ? this.commit('LOCATION', this.state.view) : this.$router.replace('newslayout') : this.commit('LOCATION', 'newslayout');\r\n                                //debugger;\r\n                                //this.state.signed_in ? this.commit('LOCATION', this.state.view) : this.$router.replace('newslayout');\r\n                                //this.state.view === 'landing' ? this.$router.replace('newslayout') : this.commit('LOCATION', this.state.view);\r\n                            }\r\n                        }\r\n                    })\r\n                    :\r\n                    this.commit('SHOW_SNACKBAR', {text: 'Не корректно введены данные' });\r\n            }\r\n        }\r\n    }    \r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./signin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./signin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./signin.vue?vue&type=template&id=2ba1718f&\"\nimport script from \"./signin.vue?vue&type=script&lang=js&\"\nexport * from \"./signin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"signin.vue\"\nexport default component.exports"],"sourceRoot":""}