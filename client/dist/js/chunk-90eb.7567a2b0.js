(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-90eb","chunk-1c5c","4074"],{4074:function(t,e,s){"use strict";s.r(e),e["default"]={data(){let[t,e]=this.$options._componentTag.split("_");return{loaded:!1,events:{},entity:t,component_name:this.$options._componentTag,component_id:e||this.$store.state.route.id}},async created(){},watch:{"auth.signed":function(t,e){}},methods:{execute(...t){return this.$store._actions.execute[0](...t)},commit(...t){return this.$store.commit(...t)},registerComponent(t){this.commit("REGISTER_COMPONENT",t)}},computed:{state(){return this.$store.state},entities(){return this.$store.state.entities},auth(){return this.state.auth||{}},authenticated(){return!!this.auth&&(this.auth.signed&&0!==this.auth.signed)},route(){return this.state.route},BASE_URL(){return this.state.BASE_URL}}}},6105:function(t,e,s){"use strict";var i=s("8ef6"),a=s.n(i);a.a},"8ef6":function(t,e,s){},a8bd:function(t,e,s){"use strict";s.r(e);var i=s("4074");e["default"]={extends:i["default"],components:{widget:()=>s.e("chunk-6ce8").then(s.bind(null,"a739"))},data(){return{active:!1}},activated(){this.active=!0,this.load()},deactivated(){this.active=!1},methods:{load(){if(this.active&&this.execute({endpoint:this.endpoint,method:"get",cache:this.cache}),1===this.auth.signed&&this.auth.member){console.log("REGISTER EVENT:",`${this.auth.member}:update:${this.entity}`),this.$socket.off(this.events.update);let t=`${this.auth.member}:update:${this.entity}`;this.$socket.on(t,t=>{this.onEvent(t)});this.events.update=t}},onEvent(t){console.log("SOCKET UPDATE DATA:",t),this.commit("SET_ENTITIES",{method:"GET",...t})}},computed:{cache(){return!0},endpoint(){return`${this.entity}${this.component_id?":"+this.component_id:""}`},raw_data(){return this.$store.state.entities[this.entity]?Object.values(this.$store.state.entities[this.entity]):[]},filter(){return this.raw_data}},watch:{"auth.signed":function(t,e){1===t&&this.load()},"auth.member":function(t,e){!t&&this.$socket.off(this.events.update)}}}},eaa8:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("widget",{attrs:{name:"баланс","justify-center":"","align-center":""}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("v-layout",{staticClass:"ma-2"},[s("h2",{staticClass:"primary--text"},[s("v-icon",{staticClass:"mr-2 shadow",attrs:{color:"primary",medium:""}},[t._v("fas fa-hand-holding-usd")]),t._v("\n                Баланс:\n            ")],1)])],1),s("v-divider",{attrs:{slot:"divider"},slot:"divider"}),s("div",{staticClass:"ui statistics ma-2"},[s("div",{staticClass:"statistic  "},[s("div",{staticClass:"value"},[s("i",{staticClass:"shadow fab fa-btc icon green--text text--darken-2"}),t._v(" "+t._s(t.filter.total)+"\n                ")]),s("div",{staticClass:"label"},[t._v("\n                    Всего\n                ")])])])],1)},a=[],n=s("a8bd"),o={extends:n["default"],computed:{filter(){return this.raw_data[0]||{}},cache(){return!this.needToUpdate}},methods:{onEvent(t){console.log("SOCKET UPDATE balance DATA:",t),this.needToUpdate=!0,this.load()}},created(){},data(){return{needToUpdate:!1}}},r=o,c=(s("6105"),s("2877")),h=Object(c["a"])(r,i,a,!1,null,"4a8e7072",null);h.options.__file="balance.vue";e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-90eb.7567a2b0.js.map